{% extends "base.html" %}
{% block content %}
    {% if session['logged_in'] %}
        <h1 class="jumbotron-heading">Nothing to do here...</h1>
        <p class="lead text-muted">Seems like you're already logged in!</p>
    {% else %}
        <h1 class="jumbotron-heading">Register</h1>
        <p class="lead text-muted">You won't regret, coolest app ever!</p>
        {% if error or form.errors.items() %}
            <div class="alert alert-danger" role="alert">
                {{ error }}
                {% for field, errors in form.errors.items() %}
                    <p><strong>{{ form[field].label }}:</strong> {{ ', '.join(errors) }}</p>
                {% endfor %}
            </div>
        {% endif %}

        <form role="form" action="" method="POST">

            {{ form.hidden_tag() }}

            <div class="form-group">
                {{ form.username.label }}
                {{ form.username(placeholder="Enter username", class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.email.label }}
                {{ form.email(placeholder="Enter email", class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.password.label }}
                {{ form.password(placeholder="Enter password", class="form-control", type="password") }}
            </div>
            <button type="submit" class="btn btn-success">Register!</button>
        </form>
    {% endif %}
{% endblock %}
